"use strict";(self.webpackChunkquan_ly_cua_hang=self.webpackChunkquan_ly_cua_hang||[]).push([[985],{1481:(e,n,t)=>{t.d(n,{Z:()=>a});const a=e=>{document.title=e}},5985:(e,n,t)=>{t.r(n),t.d(n,{default:()=>T});var a=t(6940),o=t(942),i=t(6173),l=t(93),r=t(6620),s=t(9449),c=t(1826);const d="http://54.199.68.197:8081/api/v1/suppliers";var u=t(446);const p=e=>{let{active:n,onDismiss:t,supplier:a,setSupplier:p,loading:h,fetchSuppliers:g}=e;const[m,x]=(0,o.useState)(""),[j,S]=(0,o.useState)(""),[C,f]=(0,o.useState)(""),[y,b]=(0,o.useState)(""),[v,A]=(0,o.useState)(""),[k,w]=(0,o.useState)(""),[B,E]=(0,o.useState)(""),[I,N]=(0,o.useState)(""),[P,D]=(0,o.useState)(""),q=()=>{p(void 0),x(""),S(""),f(""),b(""),A(""),w(""),E(""),N(""),D("")},M=()=>{q(),t()};const _=async()=>{if(!(()=>{let e=!0;return m&&""!==m.trim()?w(""):(e=!1,w("Vui l\xf2ng \u0111i\u1ec1n t\xean")),C&&""!==C.trim()?N(""):(e=!1,N("Vui l\xf2ng \u0111i\u1ec1n s\u1ed1 \u0111i\u1ec7n tho\u1ea1i")),v&&""!==v.trim()?D(""):(e=!1,D("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ecba ch\u1ec9")),j&&""!==j.trim()?function(e){return/\S+@\S+\.\S+/.test(e)}(j)?E(""):(e=!1,E("Email kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng")):(e=!1,E("Vui l\xf2ng \u0111i\u1ec1n email")),e})())return;const e={name:m,email:j,phoneNumber:C,address:v,note:y},n=a?await c.A.put("".concat(d,"/").concat(a.id),e):await c.A.post(d,e);200===n.status?(await g(),t(),q()):console.log(n)};return(0,o.useEffect)((()=>{x((null===a||void 0===a?void 0:a.name)||""),S((null===a||void 0===a?void 0:a.email)||""),A((null===a||void 0===a?void 0:a.address)||""),f((null===a||void 0===a?void 0:a.phoneNumber)||""),b((null===a||void 0===a?void 0:a.note)||"")}),[a]),(0,u.jsx)(i.a,{loading:h,instant:!0,open:n,onClose:M,title:a?"Th\xf4ng tin nh\xe0 cung c\u1ea5p":"Th\xeam nh\xe0 cung c\u1ea5p",primaryAction:{content:a?"C\u1eadp nh\u1eadt":"Th\xeam",onAction:_,id:"supplier--modal--submit"},secondaryActions:[{content:"Hu\u1ef7",onAction:M,id:"supplier--modal--cancel"}],children:(0,u.jsx)(i.a.Section,{children:(0,u.jsx)(l.l,{onSubmit:_,children:(0,u.jsxs)(r.H,{children:[(0,u.jsx)(s.A,{clearButton:!0,onClearButtonClick:()=>x(""),inputMode:"text",requiredIndicator:!0,label:"T\xean nh\xe0 cung c\u1ea5p",type:"text",value:m,onChange:e=>x(e),autoComplete:"off",error:k}),(0,u.jsx)(s.A,{placeholder:"me@example.com",clearButton:!0,onClearButtonClick:()=>S(""),inputMode:"email",requiredIndicator:!0,label:"Email",type:"email",value:j,onChange:e=>S(e),autoComplete:"off",error:B}),(0,u.jsx)(s.A,{clearButton:!0,onClearButtonClick:()=>f(""),inputMode:"tel",requiredIndicator:!0,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",type:"tel",value:C,onChange:e=>f(e),autoComplete:"off",error:I}),(0,u.jsx)(s.A,{clearButton:!0,onClearButtonClick:()=>A(""),inputMode:"text",requiredIndicator:!0,label:"\u0110\u1ecba ch\u1ec9",type:"text",value:v,onChange:e=>A(e),autoComplete:"off",error:P}),(0,u.jsx)(s.A,{clearButton:!0,onClearButtonClick:()=>b(""),showCharacterCount:!0,inputMode:"text",label:"Ghi ch\xfa",type:"text",value:y,onChange:e=>b(e),autoComplete:"off",maxLength:500,multiline:5})]})})})})};var h=t(6499),g=t(6897),m=t(898),x=t(4837),j=t(4943),S=t(1015),C=t(9399);const f=function(){return(0,u.jsx)(j.u,{sectioned:!0,children:(0,u.jsx)(C.p,{heading:"Manage your inventory transfers",action:{content:"Add transfer"},secondaryAction:{content:"Learn more",url:"https://help.shopify.com"},image:"https://cdn.shopify.com/s/files/1/0262/4071/2726/files/emptystate-files.png",children:(0,u.jsx)("p",{children:"Track and receive your incoming inventory from suppliers."})})})};var y=t(6881),b=t(423),v=t(7256),A=t(524),k=t(4237),w=t(1624),B=t(7309),E=t(7196),I=t(6032);const N=()=>(0,u.jsx)(x.a,{paddingInlineStart:"500",paddingBlockStart:"300",paddingBlockEnd:"300",children:(0,u.jsxs)(y.o,{blockAlign:"center",children:[(0,u.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,u.jsx)(b.y,{size:"small"})}),(0,u.jsx)(x.a,{paddingInlineStart:"500",children:(0,u.jsx)(m.E,{as:"p",tone:"subdued",children:"Loading data..."})})]})});const P=e=>{let{row:n,column:t}=e;return(0,u.jsx)(u.Fragment,{children:Array.from(Array(n).keys()).map((e=>(0,u.jsx)(g.h.Row,{position:e,id:e.toString(),children:Array.from(Array(t).keys()).map(((e,n)=>(0,u.jsx)(g.h.Cell,{children:(0,u.jsx)(E.D,{lines:1},n)},n)))},e)))})},D=e=>{let{column:n}=e;return(0,u.jsx)(x.a,{padding:"300",borderBlockEndWidth:"025",borderColor:"border-secondary",children:(0,u.jsxs)(y.o,{wrap:!1,blockAlign:"center",gap:"500",children:[(0,u.jsx)(x.a,{children:(0,u.jsx)(I.Y,{size:"extraSmall"})}),Array.from(Array(n).keys()).map(((e,n)=>(0,u.jsx)(E.D,{lines:1},n)))]})})},q=()=>(0,u.jsxs)(x.a,{padding:"400",borderBlockEndWidth:"025",borderColor:"border-secondary",children:[(0,u.jsx)(x.a,{width:"150px",paddingBlockEnd:"300",children:(0,u.jsx)(E.D,{lines:1})}),(0,u.jsx)(E.D,{lines:3})]}),M=e=>{let{number:n}=e;const{mdDown:t}=(0,v.Gu)();return(0,u.jsx)(A.P,{children:(0,u.jsx)(A.P.Section,{children:(0,u.jsxs)(k.Z,{padding:"0",children:[(0,u.jsx)(w.S,{count:4}),t?(0,u.jsx)(B.c,{borderColor:"border-secondary"}):null,(0,u.jsx)(N,{}),(0,u.jsx)(B.c,{borderColor:"border-secondary"}),[0,1,2,3].map((e=>t?(0,u.jsx)(q,{},e):(0,u.jsx)(D,{column:n},e)))]})})})};const _=function(e){const{suppliers:n,loading:t,setLoading:a,pageIndex:o,setPageIndex:i,pagesNumber:l,fetchSuppliers:r,onViewSupplier:s}=e,{selectedResources:p,allResourcesSelected:C,handleSelectionChange:y,removeSelectedResources:b}=(0,h.D)(n),v=n.map(((e,n)=>{let{id:t,name:a,address:o,email:i,phoneNumber:l,createdAt:r}=e;return(0,u.jsxs)(g.h.Row,{onClick:()=>s(t),id:t.toString(),selected:p.includes(t.toString()),position:n,children:[(0,u.jsx)(g.h.Cell,{className:"supplier--table--name-column",children:(0,u.jsx)(m.E,{truncate:!0,breakWord:!0,variant:"bodyMd",fontWeight:"bold",as:"p",children:a})}),(0,u.jsx)(g.h.Cell,{children:i}),(0,u.jsx)(g.h.Cell,{children:(0,u.jsx)(x.a,{paddingInlineEnd:"400",children:(0,u.jsx)(m.E,{as:"span",alignment:"end",numeric:!0,children:l})})}),(0,u.jsx)(g.h.Cell,{children:o})]},t.toString())})),A=[{icon:S.S,destructive:!0,content:"Delete customers",onAction:async()=>{a(!0),await Promise.all([p.map((e=>+e)).forEach((e=>{c.A.delete("".concat(d,"/").concat(e))}))]),await r(),b(p),a(!1)}}];return t||0!==n.length?(0,u.jsx)(x.a,{paddingBlockEnd:"400",children:(0,u.jsx)(j.u,{children:(0,u.jsx)(g.h,{resourceName:{singular:"supplier",plural:"suppliers"},itemCount:null===n||void 0===n?void 0:n.length,selectedItemsCount:C?"All":p.length,bulkActions:A,onSelectionChange:y,headings:[{title:"Nh\xe0 cung c\u1ea5p"},{title:"Email"},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",alignment:"end",paddingBlockEnd:"400"},{title:"\u0110\u1ecba ch\u1ec9"}],pagination:{hasNext:o<l-1,onNext:()=>i(o+1),hasPrevious:o>0,onPrevious:()=>i(o-1)},children:t?(0,u.jsx)(P,{row:10,column:4}):v})})}):(0,u.jsx)(f,{})};var L=t(1481);const T=()=>{const[e,n]=(0,o.useState)(!0),[t,i]=(0,o.useState)(!0),[l,r]=(0,o.useState)(!1),[s,h]=(0,o.useState)([]),[g,m]=(0,o.useState)(0),[x]=(0,o.useState)(10),[j,S]=(0,o.useState)(0),[C,f]=(0,o.useState)(),[y,b]=(0,o.useState)(!1);(0,L.Z)("Qu\u1ea3n l\xfd nh\xe0 cung c\u1ea5p");const v=(0,o.useCallback)((async()=>{await c.A.get("".concat(d,"?page=").concat(g,"&size=").concat(x)).then((e=>e.data)).then((e=>e.data)).then((e=>{console.log(e);const n=e.metadata;S(n.totalPages),h(e.data),g>n.totalPages-1?m(n.totalPages-1):m(n.page)})).catch((e=>{console.log(e)}))}),[g,x]);return(0,o.useEffect)((()=>{console.log("render"),i(!0),v().then((()=>{i(!1),n(!1)}))}),[g,x,e,v]),(0,u.jsx)(a.Y,{backAction:{content:"supplier_back",url:"/quan-ly-cua-hang"},title:"Qu\u1ea3n l\xfd nh\xe0 cung c\u1ea5p",primaryAction:{content:"Th\xeam nh\xe0 cung c\u1ea5p",onAction:()=>r(!0)},fullWidth:!0,children:e?(0,u.jsx)(M,{number:4}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(_,{suppliers:s,setSuppliers:h,pageIndex:g,pagesNumber:j,setPageIndex:m,loading:t,setLoading:i,fetchSuppliers:v,onViewSupplier:async e=>{b(!0),r(!0);const n=(await c.A.get("".concat(d,"/").concat(e))).data;200===n.status&&(f(n.data),b(!1))}}),(0,u.jsx)(p,{loading:y,setLoading:b,active:l,onDismiss:()=>r(!1),supplier:C,setSupplier:f,fetchSuppliers:v})]})})}}}]);
//# sourceMappingURL=985.a55ca646.chunk.js.map